@{
    ViewData["Title"] = "Home Page";
}

<menu id="ctxMenu">
        <menu title="Add"></menu>
        <menu title="Edit"></menu>
        <menu title="Remove"></menu>
</menu>

<div class="row">
    <div class="text-center">
        <h1 class="title">Tree View</h1>
    </div>
</div>
<div class="row">
    <button class="btn btn-success">Add</button>
    <button class="btn btn-warning">Edit</button>
    <button class="btn btn-danger">Remove</button>
</div>
<div class="row" id="treeRow">
    <ul class="tree-view">
        <li>
            <span id="1lvl" class="caret">1</span>
            <ul class="nested">
                <li>1.1</li>
                <li>1.2</li>
                <li class="branch">
                    <span class="caret">1.3</span>
                    <ul class="nested">
                        <li>1.3.1</li>
                        <li>1.3.2</li>
                        <li class="branch">
                            <span class="caret">1.3.3</span>
                            <ul class="nested">
                                <li>1.3.3.1</li>
                                <li>1.3.3.2</li>
                                <li>1.3.3.3</li>
                                <li>1.3.3.4</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</div>


<script>
    var toggler = document.getElementsByClassName("caret");
    var i;

    for (i = 0; i < toggler.length; i++) {
        toggler[i].addEventListener("click", function () {
            this.parentElement.querySelector(".nested").classList.toggle("active");
            this.classList.toggle("caret-down");
        });
    }

    var notepad = document.getElementById("1lvl");
    var treeRow = document.getElementsByClassName("container");
    notepad.addEventListener("contextmenu", function (event) {
        event.preventDefault();
        var ctxMenu = document.getElementById("ctxMenu");
        ctxMenu.style.display = "block";
        ctxMenu.style.left = (event.pageX - 10) + "px";
        ctxMenu.style.top = (event.pageY - 10) + "px";
    }, false);
    treeRow.addEventListener("click", function (event) {
        var ctxMenu = document.getElementById("ctxMenu");
        ctxMenu.style.display = "";
        ctxMenu.style.left = "";
        ctxMenu.style.top = "";
    }, false);
</script>